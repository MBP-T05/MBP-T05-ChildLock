sequenceDiagram
    actor Driver as 운전자
    participant Switch as 차일드락 스위치
    participant Sys as 시스템 (Controller)
    participant ECU as 도어 ECU
    participant Cluster as 계기판/표시등
    participant Log as 로그 시스템

    Driver->>Switch: 1. 차일드락 버튼 누름
    Switch->>Sys: 2. 스위치 입력 수신

    %% 대안 시나리오 적용 구간
    alt Alternative: 스위치 입력 불안정 (Chattering 등)
        Sys->>Sys: 3. 입력 신호 유효성 검증 (불안정)
        Sys-->>Switch: 일정 시간 내 재확인 대기
        Switch->>Sys: 안정화된 신호 재입력
    else Normal: 스위치 입력 정상
        Sys->>Sys: 3. 입력 신호 유효성 검증 (정상/통과)
    end

    Sys->>Sys: 4. 목표 상태(ON/OFF) 결정
    Sys->>ECU: 5. 차일드락 제어 명령 전송

    %% 예외 시나리오 적용 구간
    alt Exception: ECU 통신 실패
        ECU--xSys: 통신 실패 (Timeout 또는 Error)
        Sys->>Cluster: 경고 표시 (이전 상태 유지)
    else MSS: ECU 통신 성공
        ECU->>ECU: 6. 뒷좌석 내부 핸들 활성/비활성 적용
        ECU-->>Sys: 제어 완료 응답
        Sys->>Cluster: 7. 상태 갱신 (ON/OFF 표시)
        Sys->>Log: 8. 상태 변경 이벤트 기록
    end
