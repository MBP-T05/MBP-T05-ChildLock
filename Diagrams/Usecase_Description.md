# 📝 전자식 차일드 락 시스템 유스케이스 명세서

### UC-1: 운전자 차일드 락 전자식 ON/OFF 제어
| 항목 | 내용 |
| :--- | :--- |
| **UC-1** | 운전자 차일드 락 전자식 ON/OFF 제어 |
| **Pre-condition** | - 차량 전원 ON<br>- 차일드락 제어 스위치 정상 동작<br>- 도어 ECU 통신 가능 |
| **Post-condition** | - 차일드락 상태가 ON 또는 OFF로 변경됨<br>- 뒷좌석 내부 핸들 동작 상태 반영<br>- 상태 변경 로그 저장 |
| **Trigger** | 운전자가 차일드 락 스위치를 누름 |
| **Main Success Scenario (MSS)** | 1. 운전자가 차일드락 버튼을 누름<br>2. 시스템이 스위치 입력을 수신<br>3. 입력 신호 유효성을 검증<br>4. 목표 상태(ON/OFF)를 결정<br>5. 도어 ECU에 차일드락 제어 명령을 전송<br>6. 뒷좌석 내부 핸들 활성/비활성 상태를 적용<br>7. 계기판 또는 표시등 상태를 갱신<br>8. 상태 변경 이벤트를 로그에 기록 |
| **Alternative Scenario** | 스위치 입력이 불안정한 경우 일정 시간 내 재확인 후 처리한다. |
| **Exception Scenario** | ECU 통신 실패 시 경고 표시 후 이전 상태를 유지한다. |

<br>

### UC-2: 차량 출발 시 자동 차일드 락 활성화
| 항목 | 내용 |
| :--- | :--- |
| **UC-2** | 차량 출발 시 자동 차일드 락 활성화 |
| **Pre-condition** | - 속도 신호 수신 가능<br>- 자동 활성화 기능 설정 ON |
| **Post-condition** | - 차일드 락이 자동으로 ON 상태가 됨<br>- 자동 활성화 로그 저장 |
| **Trigger** | 차량 속도가 설정된 임계값을 초과함. |
| **Main Success Scenario (MSS)** | 1. 시스템이 차량 속도 데이터를 수신<br>2. 속도가 임계값을 초과했는지 판단<br>3. 현재 차일드 락 상태를 조회<br>4. 차일드 락이 OFF 상태임을 확인<br>5. 차일드 락을 ON으로 자동 설정<br>6. 자동 활성화 상태를 표시<br>7. 자동 활성화 이벤트를 로그에 기록 |
| **Alternative Scenario** | 차일드 락이 이미 ON 상태이면 상태를 유지하고 로그만 기록한다. |
| **Exception Scenario** | 속도 신호 오류 시 자동 활성화 기능을 비활성화하고 점검 알림을 표시한다. |

<br>

### UC-3: 사고 발생 시 차일드 락 자동 해제
| 항목 | 내용 |
| :--- | :--- |
| **UC-3** | 사고 발생 시 차일드 락 자동 해제 |
| **Pre-condition** | - 충돌 감지 신호 수신 가능<br>- 도어 ECU 제어 가능 |
| **Post-condition** | - 차일드 락이 OFF 상태가 됨<br>- 뒷좌석 내부 개방 가능 상태가 됨<br>- 비상 해제 로그 저장 |
| **Trigger** | 충돌 감지 또는 에어백 전개 신호 수신 |
| **Main Success Scenario (MSS)** | 1. 시스템이 충돌 신호를 수신<br>2. 충돌 신호의 유효성을 검증<br>3. 시스템을 비상 상태로 전환<br>4. 차일드락 해제 명령을 생성<br>5. 도어 ECU에 해제 명령을 전송<br>6. 뒷좌석 내부 개방을 허용<br>7. 비상 해제 이벤트를 로그에 기록 |
| **Alternative Scenario** | 경미한 충돌로 판단되면 설정에 따라 상태를 유지한다. |
| **Exception Scenario** | ECU 응답이 없으면 재전송 후 실패 로그를 기록한다. |

<br>

### UC-4: 뒷좌석 내부 문 열기 시도 차단
| 항목 | 내용 |
| :--- | :--- |
| **UC-4** | 뒷좌석 내부 문 열기 시도 차단 |
| **Pre-condition** | - 차일드 락 ON 상태<br>- 내부 핸들 이벤트 감지 가능 |
| **Post-condition** | - 뒷좌석 문 개방이 차단됨<br>- 개방 시도 로그 저장 |
| **Trigger** | 뒷좌석 내부 핸들 당김 이벤트 발생 |
| **Main Success Scenario (MSS)** | 1. 시스템이 내부 핸들 당김 이벤트를 감지<br>2. 현재 차일드 락 상태를 조회<br>3. 차일드 락 ON 상태임을 확인<br>4. 도어 개방 요청을 차단<br>5. 필요 시 운전자에게 알림을 표시<br>6. 개방 시도 이벤트를 로그에 기록 |
| **Alternative Scenario** | 차일드 락 OFF 상태이면 정상 개방을 허용한다. |
| **Exception Scenario** | 핸들 센서 오류 시 센서 점검 알림을 표시한다. |

<br>

### UC-5: 후방 위험 접근 시 차일드 락 자동 활성화 및 운전자 경고
| 항목 | 내용 |
| :--- | :--- |
| **UC-5** | 후방 위험 접근 시 차일드 락 자동 활성화 및 운전자 경고 |
| **Pre-condition** | - 후방 감지 센서 정상 동작<br>- 위험 감지 기능 활성 |
| **Post-condition** | - 뒷좌석 차일드 락이 자동 ON 됨<br>- 운전자에게 경고음 및 메시지 제공<br>- 이벤트 로그 저장 |
| **Trigger** | 후방에서 빠르게 접근하는 객체가 감지됨 |
| **Main Success Scenario (MSS)** | 1. 후방 센서가 접근 객체를 감지<br>2. 거리와 접근 속도를 계산<br>3. 위험 임계치를 초과했는지 판단<br>4. 현재 차일드락 상태를 조회<br>5. OFF 상태이면 뒷좌석 차일드락을 ON으로 설정<br>6. 앞좌석(운전자)에게 경고음과 메시지를 출력<br>7. 자동 보호 이벤트를 로그에 기록 |
| **Alternative Scenario** | 이미 ON 상태이면 유지하고 경고만 수행한다. |
| **Exception Scenario** | 센서 오류 시 기능 비활성 알림과 오류 로그를 기록한다. |

<br>

### UC-6: 뒷좌석 점유 + 출발 시 차일드락 상태/권장 알림
| 항목 | 내용 |
| :--- | :--- |
| **UC-6** | 뒷좌석 점유 + 출발 시 차일드락 상태/권장 알림 |
| **Pre-condition** | - 뒷좌석 점유 센서 정상<br>- 출발 상태 감지 가능 |
| **Post-condition** | - 운전자에게 상태 또는 권장 알림 제공<br>- 알림 로그 저장 |
| **Trigger** | 차량 출발 상태 진입 |
| **Main Success Scenario (MSS)** | 1. 시스템이 차량 출발 상태를 감지한다<br>2. 뒷좌석 점유 여부를 확인한다<br>3. 차일드락 상태를 조회한다<br>4. 점유 있음 + 차일드락 OFF이면 권장 알림을 표시한다<br>5. 점유 있음 + 차일드락 ON이면 상태 알림을 표시한다<br>6. 알림을 1회 제공한다<br>7. 알림 이벤트를 로그에 기록한다 |
| **Alternative Scenario** | 점유가 없으면 상태 알림만 표시하거나 생략한다. |
| **Exception Scenario** | 점유 센서 오류 시 센서 점검 알림을 표시한다. |

<br>

### UC-7: 도착 후 시동 OFF 시 차일드 락 상태 알림
| 항목 | 내용 |
| :--- | :--- |
| **UC-7** | 도착 후 시동 OFF 시 차일드 락 상태 알림 |
| **Pre-condition** | - 최근 주행 이력 존재<br>- 표시 장치 사용 가능 |
| **Post-condition** | - 차일드 락 ON 상태에 대한 인지 제공<br>- 상태 알림 로그 저장 |
| **Trigger** | 시동 OFF 이벤트 발생 |
| **Main Success Scenario (MSS)** | 1. 시스템이 시동 OFF 이벤트를 감지<br>2. 차일드락 상태를 조회<br>3. ON 상태임을 확인<br>4. 상태 요약 메시지를 표시<br>5. 알림을 1회 제공하고 종료<br>6. 상태 알림 이벤트를 로그에 기록 |
| **Alternative Scenario** | 차일드 락 OFF 상태이면 알림을 생략한다. |
| **Exception Scenario** | 상태 조회 실패 시 상태 확인 불가 메시지를 표시한다. |
